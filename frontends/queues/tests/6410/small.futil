import "primitives/core.futil";
import "primitives/memories/seq.futil";
import "primitives/binary_operators.futil";
component fifo_A<"pos"={0}>(cmd: 1, value: 32) -> () {
  cells {
    @pos{1} mem = seq_mem_d1(32, 128, 7);
    @pos{2} reg_1 = std_reg(7);
    @pos{3} reg_2 = std_reg(7);
    @pos{4} ref ans = std_reg(32);
    @pos{5} ref err = std_reg(1);
    @pos{6} reg_3 = std_reg(8);
    @pos{8} eq_4 = std_eq(8);
    @pos{10} reg_2_incr_1_5 = std_add(7);
    @pos{11} reg_3_decr_1_6 = std_sub(8);
    @pos{13} eq_7 = std_eq(8);
    @pos{15} reg_1_incr_1_8 = std_add(7);
    @pos{16} reg_3_incr_1_9 = std_add(8);
    @pos{18} cmd_eq_1_10 = std_eq(1);
    @pos{18} cmd_eq_0_11 = std_eq(1);
  }
  wires {
    group raise_err<"pos"={7}> {
      err.in = 1'd1;
      err.write_en = 1'd1;
      raise_err[done] = err.done;
    }
    comb group eq_4_group {
      eq_4.left = reg_3.out;
      eq_4.right = 8'd0;
    }
    group read_payload_from_mem_pop<"pos"={9}> {
      mem.addr0 = reg_2.out;
      mem.content_en = 1'd1;
      ans.write_en = mem.done ? 1'd1;
      ans.in = mem.done ? mem.read_data;
      read_payload_from_mem_pop[done] = ans.done;
    }
    group reg_2_incr_1_5_group<"pos"={10}> {
      reg_2_incr_1_5.left = reg_2.out;
      reg_2_incr_1_5.right = 7'd1;
      reg_2.write_en = 1'd1;
      reg_2.in = reg_2_incr_1_5.out;
      reg_2_incr_1_5_group[done] = reg_2.done;
    }
    group reg_3_decr_1_6_group<"pos"={11}> {
      reg_3_decr_1_6.left = reg_3.out;
      reg_3_decr_1_6.right = 8'd1;
      reg_3.write_en = 1'd1;
      reg_3.in = reg_3_decr_1_6.out;
      reg_3_decr_1_6_group[done] = reg_3.done;
    }
    comb group eq_7_group {
      eq_7.left = reg_3.out;
      eq_7.right = 8'd128;
    }
    group write_payload_to_mem<"pos"={14}> {
      mem.addr0 = reg_1.out;
      mem.write_en = 1'd1;
      mem.write_data = value;
      write_payload_to_mem[done] = mem.done;
      mem.content_en = 1'd1;
    }
    group reg_1_incr_1_8_group<"pos"={15}> {
      reg_1_incr_1_8.left = reg_1.out;
      reg_1_incr_1_8.right = 7'd1;
      reg_1.write_en = 1'd1;
      reg_1.in = reg_1_incr_1_8.out;
      reg_1_incr_1_8_group[done] = reg_1.done;
    }
    group reg_3_incr_1_9_group<"pos"={16}> {
      reg_3_incr_1_9.left = reg_3.out;
      reg_3_incr_1_9.right = 8'd1;
      reg_3.write_en = 1'd1;
      reg_3.in = reg_3_incr_1_9.out;
      reg_3_incr_1_9_group[done] = reg_3.done;
    }
    cmd_eq_1_10.left = cmd;
    cmd_eq_1_10.right = 1'd1;
    cmd_eq_0_11.left = cmd;
    cmd_eq_0_11.right = 1'd0;
  }
  control {
    @pos{18} if cmd_eq_0_11.out {
      @pos{12} if eq_4.out with eq_4_group {
        @pos{12} raise_err;
      } else {
        @pos{12} seq {
          @pos{12} read_payload_from_mem_pop;
          @pos{12} reg_2_incr_1_5_group;
          @pos{12} reg_3_decr_1_6_group;
        }
      }
    } else {
      @pos{18} if cmd_eq_1_10.out {
        @pos{17} if eq_7.out with eq_7_group {
          @pos{17} raise_err;
        } else {
          @pos{17} seq {
            @pos{17} write_payload_to_mem;
            @pos{17} reg_1_incr_1_8_group;
            @pos{17} reg_3_incr_1_9_group;
          }
        }
      }
    }
  }
}
component fifo_B<"pos"={0}>(cmd: 1, value: 32) -> () {
  cells {
    @pos{1} mem = seq_mem_d1(32, 128, 7);
    @pos{2} reg_1 = std_reg(7);
    @pos{3} reg_2 = std_reg(7);
    @pos{4} ref ans = std_reg(32);
    @pos{5} ref err = std_reg(1);
    @pos{6} reg_3 = std_reg(8);
    @pos{8} eq_4 = std_eq(8);
    @pos{10} reg_2_incr_1_5 = std_add(7);
    @pos{11} reg_3_decr_1_6 = std_sub(8);
    @pos{13} eq_7 = std_eq(8);
    @pos{15} reg_1_incr_1_8 = std_add(7);
    @pos{16} reg_3_incr_1_9 = std_add(8);
    @pos{18} cmd_eq_1_10 = std_eq(1);
    @pos{18} cmd_eq_0_11 = std_eq(1);
  }
  wires {
    group raise_err<"pos"={7}> {
      err.in = 1'd1;
      err.write_en = 1'd1;
      raise_err[done] = err.done;
    }
    comb group eq_4_group {
      eq_4.left = reg_3.out;
      eq_4.right = 8'd0;
    }
    group read_payload_from_mem_pop<"pos"={9}> {
      mem.addr0 = reg_2.out;
      mem.content_en = 1'd1;
      ans.write_en = mem.done ? 1'd1;
      ans.in = mem.done ? mem.read_data;
      read_payload_from_mem_pop[done] = ans.done;
    }
    group reg_2_incr_1_5_group<"pos"={10}> {
      reg_2_incr_1_5.left = reg_2.out;
      reg_2_incr_1_5.right = 7'd1;
      reg_2.write_en = 1'd1;
      reg_2.in = reg_2_incr_1_5.out;
      reg_2_incr_1_5_group[done] = reg_2.done;
    }
    group reg_3_decr_1_6_group<"pos"={11}> {
      reg_3_decr_1_6.left = reg_3.out;
      reg_3_decr_1_6.right = 8'd1;
      reg_3.write_en = 1'd1;
      reg_3.in = reg_3_decr_1_6.out;
      reg_3_decr_1_6_group[done] = reg_3.done;
    }
    comb group eq_7_group {
      eq_7.left = reg_3.out;
      eq_7.right = 8'd128;
    }
    group write_payload_to_mem<"pos"={14}> {
      mem.addr0 = reg_1.out;
      mem.write_en = 1'd1;
      mem.write_data = value;
      write_payload_to_mem[done] = mem.done;
      mem.content_en = 1'd1;
    }
    group reg_1_incr_1_8_group<"pos"={15}> {
      reg_1_incr_1_8.left = reg_1.out;
      reg_1_incr_1_8.right = 7'd1;
      reg_1.write_en = 1'd1;
      reg_1.in = reg_1_incr_1_8.out;
      reg_1_incr_1_8_group[done] = reg_1.done;
    }
    group reg_3_incr_1_9_group<"pos"={16}> {
      reg_3_incr_1_9.left = reg_3.out;
      reg_3_incr_1_9.right = 8'd1;
      reg_3.write_en = 1'd1;
      reg_3.in = reg_3_incr_1_9.out;
      reg_3_incr_1_9_group[done] = reg_3.done;
    }
    cmd_eq_1_10.left = cmd;
    cmd_eq_1_10.right = 1'd1;
    cmd_eq_0_11.left = cmd;
    cmd_eq_0_11.right = 1'd0;
  }
  control {
    @pos{18} if cmd_eq_0_11.out {
      @pos{12} if eq_4.out with eq_4_group {
        @pos{12} raise_err;
      } else {
        @pos{12} seq {
          @pos{12} read_payload_from_mem_pop;
          @pos{12} reg_2_incr_1_5_group;
          @pos{12} reg_3_decr_1_6_group;
        }
      }
    } else {
      @pos{18} if cmd_eq_1_10.out {
        @pos{17} if eq_7.out with eq_7_group {
          @pos{17} raise_err;
        } else {
          @pos{17} seq {
            @pos{17} write_payload_to_mem;
            @pos{17} reg_1_incr_1_8_group;
            @pos{17} reg_3_incr_1_9_group;
          }
        }
      }
    }
  }
}
component fifo_C<"pos"={0}>(cmd: 1, value: 32) -> () {
  cells {
    @pos{1} mem = seq_mem_d1(32, 128, 7);
    @pos{2} reg_1 = std_reg(7);
    @pos{3} reg_2 = std_reg(7);
    @pos{4} ref ans = std_reg(32);
    @pos{5} ref err = std_reg(1);
    @pos{6} reg_3 = std_reg(8);
    @pos{8} eq_4 = std_eq(8);
    @pos{10} reg_2_incr_1_5 = std_add(7);
    @pos{11} reg_3_decr_1_6 = std_sub(8);
    @pos{13} eq_7 = std_eq(8);
    @pos{15} reg_1_incr_1_8 = std_add(7);
    @pos{16} reg_3_incr_1_9 = std_add(8);
    @pos{18} cmd_eq_1_10 = std_eq(1);
    @pos{18} cmd_eq_0_11 = std_eq(1);
  }
  wires {
    group raise_err<"pos"={7}> {
      err.in = 1'd1;
      err.write_en = 1'd1;
      raise_err[done] = err.done;
    }
    comb group eq_4_group {
      eq_4.left = reg_3.out;
      eq_4.right = 8'd0;
    }
    group read_payload_from_mem_pop<"pos"={9}> {
      mem.addr0 = reg_2.out;
      mem.content_en = 1'd1;
      ans.write_en = mem.done ? 1'd1;
      ans.in = mem.done ? mem.read_data;
      read_payload_from_mem_pop[done] = ans.done;
    }
    group reg_2_incr_1_5_group<"pos"={10}> {
      reg_2_incr_1_5.left = reg_2.out;
      reg_2_incr_1_5.right = 7'd1;
      reg_2.write_en = 1'd1;
      reg_2.in = reg_2_incr_1_5.out;
      reg_2_incr_1_5_group[done] = reg_2.done;
    }
    group reg_3_decr_1_6_group<"pos"={11}> {
      reg_3_decr_1_6.left = reg_3.out;
      reg_3_decr_1_6.right = 8'd1;
      reg_3.write_en = 1'd1;
      reg_3.in = reg_3_decr_1_6.out;
      reg_3_decr_1_6_group[done] = reg_3.done;
    }
    comb group eq_7_group {
      eq_7.left = reg_3.out;
      eq_7.right = 8'd128;
    }
    group write_payload_to_mem<"pos"={14}> {
      mem.addr0 = reg_1.out;
      mem.write_en = 1'd1;
      mem.write_data = value;
      write_payload_to_mem[done] = mem.done;
      mem.content_en = 1'd1;
    }
    group reg_1_incr_1_8_group<"pos"={15}> {
      reg_1_incr_1_8.left = reg_1.out;
      reg_1_incr_1_8.right = 7'd1;
      reg_1.write_en = 1'd1;
      reg_1.in = reg_1_incr_1_8.out;
      reg_1_incr_1_8_group[done] = reg_1.done;
    }
    group reg_3_incr_1_9_group<"pos"={16}> {
      reg_3_incr_1_9.left = reg_3.out;
      reg_3_incr_1_9.right = 8'd1;
      reg_3.write_en = 1'd1;
      reg_3.in = reg_3_incr_1_9.out;
      reg_3_incr_1_9_group[done] = reg_3.done;
    }
    cmd_eq_1_10.left = cmd;
    cmd_eq_1_10.right = 1'd1;
    cmd_eq_0_11.left = cmd;
    cmd_eq_0_11.right = 1'd0;
  }
  control {
    @pos{18} if cmd_eq_0_11.out {
      @pos{12} if eq_4.out with eq_4_group {
        @pos{12} raise_err;
      } else {
        @pos{12} seq {
          @pos{12} read_payload_from_mem_pop;
          @pos{12} reg_2_incr_1_5_group;
          @pos{12} reg_3_decr_1_6_group;
        }
      }
    } else {
      @pos{18} if cmd_eq_1_10.out {
        @pos{17} if eq_7.out with eq_7_group {
          @pos{17} raise_err;
        } else {
          @pos{17} seq {
            @pos{17} write_payload_to_mem;
            @pos{17} reg_1_incr_1_8_group;
            @pos{17} reg_3_incr_1_9_group;
          }
        }
      }
    }
  }
}
component fifo_D<"pos"={0}>(cmd: 1, value: 32) -> () {
  cells {
    @pos{1} mem = seq_mem_d1(32, 128, 7);
    @pos{2} reg_1 = std_reg(7);
    @pos{3} reg_2 = std_reg(7);
    @pos{4} ref ans = std_reg(32);
    @pos{5} ref err = std_reg(1);
    @pos{6} reg_3 = std_reg(8);
    @pos{8} eq_4 = std_eq(8);
    @pos{10} reg_2_incr_1_5 = std_add(7);
    @pos{11} reg_3_decr_1_6 = std_sub(8);
    @pos{13} eq_7 = std_eq(8);
    @pos{15} reg_1_incr_1_8 = std_add(7);
    @pos{16} reg_3_incr_1_9 = std_add(8);
    @pos{18} cmd_eq_1_10 = std_eq(1);
    @pos{18} cmd_eq_0_11 = std_eq(1);
  }
  wires {
    group raise_err<"pos"={7}> {
      err.in = 1'd1;
      err.write_en = 1'd1;
      raise_err[done] = err.done;
    }
    comb group eq_4_group {
      eq_4.left = reg_3.out;
      eq_4.right = 8'd0;
    }
    group read_payload_from_mem_pop<"pos"={9}> {
      mem.addr0 = reg_2.out;
      mem.content_en = 1'd1;
      ans.write_en = mem.done ? 1'd1;
      ans.in = mem.done ? mem.read_data;
      read_payload_from_mem_pop[done] = ans.done;
    }
    group reg_2_incr_1_5_group<"pos"={10}> {
      reg_2_incr_1_5.left = reg_2.out;
      reg_2_incr_1_5.right = 7'd1;
      reg_2.write_en = 1'd1;
      reg_2.in = reg_2_incr_1_5.out;
      reg_2_incr_1_5_group[done] = reg_2.done;
    }
    group reg_3_decr_1_6_group<"pos"={11}> {
      reg_3_decr_1_6.left = reg_3.out;
      reg_3_decr_1_6.right = 8'd1;
      reg_3.write_en = 1'd1;
      reg_3.in = reg_3_decr_1_6.out;
      reg_3_decr_1_6_group[done] = reg_3.done;
    }
    comb group eq_7_group {
      eq_7.left = reg_3.out;
      eq_7.right = 8'd128;
    }
    group write_payload_to_mem<"pos"={14}> {
      mem.addr0 = reg_1.out;
      mem.write_en = 1'd1;
      mem.write_data = value;
      write_payload_to_mem[done] = mem.done;
      mem.content_en = 1'd1;
    }
    group reg_1_incr_1_8_group<"pos"={15}> {
      reg_1_incr_1_8.left = reg_1.out;
      reg_1_incr_1_8.right = 7'd1;
      reg_1.write_en = 1'd1;
      reg_1.in = reg_1_incr_1_8.out;
      reg_1_incr_1_8_group[done] = reg_1.done;
    }
    group reg_3_incr_1_9_group<"pos"={16}> {
      reg_3_incr_1_9.left = reg_3.out;
      reg_3_incr_1_9.right = 8'd1;
      reg_3.write_en = 1'd1;
      reg_3.in = reg_3_incr_1_9.out;
      reg_3_incr_1_9_group[done] = reg_3.done;
    }
    cmd_eq_1_10.left = cmd;
    cmd_eq_1_10.right = 1'd1;
    cmd_eq_0_11.left = cmd;
    cmd_eq_0_11.right = 1'd0;
  }
  control {
    @pos{18} if cmd_eq_0_11.out {
      @pos{12} if eq_4.out with eq_4_group {
        @pos{12} raise_err;
      } else {
        @pos{12} seq {
          @pos{12} read_payload_from_mem_pop;
          @pos{12} reg_2_incr_1_5_group;
          @pos{12} reg_3_decr_1_6_group;
        }
      }
    } else {
      @pos{18} if cmd_eq_1_10.out {
        @pos{17} if eq_7.out with eq_7_group {
          @pos{17} raise_err;
        } else {
          @pos{17} seq {
            @pos{17} write_payload_to_mem;
            @pos{17} reg_1_incr_1_8_group;
            @pos{17} reg_3_incr_1_9_group;
          }
        }
      }
    }
  }
}
component fi_sp<"pos"={19}>(value: 32) -> () {
  cells {
    @pos{20} ref flow = std_reg(1);
    @pos{21} lt_1 = std_lt(32);
    @pos{22} le_2 = std_le(32);
    @pos{23} and_3 = std_and(1);
    @pos{21} lt_4 = std_lt(32);
    @pos{22} le_5 = std_le(32);
    @pos{23} and_6 = std_and(1);
  }
  wires {
    comb group fi_sp_bound_check_0 {
      le_2.left = value;
      le_2.right = 32'd100;
      lt_1.left = 32'd0;
      lt_1.right = 32'd1;
      and_3.left = le_2.out;
      and_3.right = lt_1.out;
    }
    group set_flow_0<"pos"={24}> {
      flow.in = 1'd0;
      flow.write_en = 1'd1;
      set_flow_0[done] = flow.done;
    }
    comb group fi_sp_bound_check_1 {
      le_5.left = value;
      le_5.right = 32'd200;
      lt_4.left = 32'd100;
      lt_4.right = value;
      and_6.left = le_5.out;
      and_6.right = lt_4.out;
    }
    group set_flow_1<"pos"={24}> {
      flow.in = 1'd1;
      flow.write_en = 1'd1;
      set_flow_1[done] = flow.done;
    }
  }
  control {
    @pos{26} seq {
      @pos{26} par {
        @pos{25} if and_3.out with fi_sp_bound_check_0 {
          @pos{25} set_flow_0;
        }
        @pos{25} if and_6.out with fi_sp_bound_check_1 {
          @pos{25} set_flow_1;
        }
      }
    }
  }
}
component fi_rr2<"pos"={19}>(value: 32) -> () {
  cells {
    @pos{20} ref flow = std_reg(1);
    @pos{21} lt_1 = std_lt(32);
    @pos{22} le_2 = std_le(32);
    @pos{23} and_3 = std_and(1);
    @pos{21} lt_4 = std_lt(32);
    @pos{22} le_5 = std_le(32);
    @pos{23} and_6 = std_and(1);
  }
  wires {
    comb group fi_rr2_bound_check_0 {
      le_2.left = value;
      le_2.right = 32'd300;
      lt_1.left = 32'd0;
      lt_1.right = 32'd1;
      and_3.left = le_2.out;
      and_3.right = lt_1.out;
    }
    group set_flow_0<"pos"={24}> {
      flow.in = 1'd0;
      flow.write_en = 1'd1;
      set_flow_0[done] = flow.done;
    }
    comb group fi_rr2_bound_check_1 {
      le_5.left = value;
      le_5.right = 32'd400;
      lt_4.left = 32'd300;
      lt_4.right = value;
      and_6.left = le_5.out;
      and_6.right = lt_4.out;
    }
    group set_flow_1<"pos"={24}> {
      flow.in = 1'd1;
      flow.write_en = 1'd1;
      set_flow_1[done] = flow.done;
    }
  }
  control {
    @pos{26} seq {
      @pos{26} par {
        @pos{25} if and_3.out with fi_rr2_bound_check_0 {
          @pos{25} set_flow_0;
        }
        @pos{25} if and_6.out with fi_rr2_bound_check_1 {
          @pos{25} set_flow_1;
        }
      }
    }
  }
}
component fi_root<"pos"={19}>(value: 32) -> () {
  cells {
    @pos{20} ref flow = std_reg(1);
    @pos{21} lt_1 = std_lt(32);
    @pos{22} le_2 = std_le(32);
    @pos{23} and_3 = std_and(1);
    @pos{21} lt_4 = std_lt(32);
    @pos{22} le_5 = std_le(32);
    @pos{23} and_6 = std_and(1);
  }
  wires {
    comb group fi_root_bound_check_0 {
      le_2.left = value;
      le_2.right = 32'd200;
      lt_1.left = 32'd0;
      lt_1.right = 32'd1;
      and_3.left = le_2.out;
      and_3.right = lt_1.out;
    }
    group set_flow_0<"pos"={24}> {
      flow.in = 1'd0;
      flow.write_en = 1'd1;
      set_flow_0[done] = flow.done;
    }
    comb group fi_root_bound_check_1 {
      le_5.left = value;
      le_5.right = 32'd400;
      lt_4.left = 32'd200;
      lt_4.right = value;
      and_6.left = le_5.out;
      and_6.right = lt_4.out;
    }
    group set_flow_1<"pos"={24}> {
      flow.in = 1'd1;
      flow.write_en = 1'd1;
      set_flow_1[done] = flow.done;
    }
  }
  control {
    @pos{26} seq {
      @pos{26} par {
        @pos{25} if and_3.out with fi_root_bound_check_0 {
          @pos{25} set_flow_0;
        }
        @pos{25} if and_6.out with fi_root_bound_check_1 {
          @pos{25} set_flow_1;
        }
      }
    }
  }
}
component pifo_sp<"pos"={27}>(cmd: 1, value: 32) -> () {
  cells {
    @pos{28} queue_0 = fifo_A();
    @pos{28} queue_1 = fifo_B();
    @pos{29} flow = std_reg(1);
    @pos{30} flow_infer = fi_sp();
    @pos{32} ref ans = std_reg(32);
    @pos{33} ref err = std_reg(1);
    @pos{34} length = std_reg(32);
    @pos{35} hot = std_reg(32);
    @pos{36} og_hot = std_reg(32);
    @pos{38} eq_1 = std_eq(32);
    @pos{39} eq_2 = std_eq(32);
    @pos{40} eq_3 = std_eq(1);
    @pos{41} neq_4 = std_neq(1);
    @pos{44} length_incr_1_5 = std_add(32);
    @pos{45} length_decr_1_6 = std_sub(32);
    @pos{47} hot_out_eq_1_7 = std_eq(32);
    @pos{47} hot_out_eq_0_8 = std_eq(32);
    @pos{48} flow_out_eq_1_9 = std_eq(1);
    @pos{48} flow_out_eq_0_10 = std_eq(1);
    @pos{49} eq_11 = std_eq(32);
    @pos{51} hot_incr_1_12 = std_add(32);
    @pos{58} cmd_eq_1_13 = std_eq(1);
    @pos{58} cmd_eq_0_14 = std_eq(1);
  }
  wires {
    group og_hot_store_to_reg<"pos"={37}> {
      og_hot.in = hot.out;
      og_hot.write_en = 1'd1;
      og_hot_store_to_reg[done] = og_hot.done;
    }
    comb group eq_1_group {
      eq_1.left = length.out;
      eq_1.right = 32'd0;
    }
    comb group eq_2_group {
      eq_2.left = length.out;
      eq_2.right = 32'd128;
    }
    comb group eq_3_group {
      eq_3.left = err.out;
      eq_3.right = 1'd0;
    }
    comb group neq_4_group {
      neq_4.left = err.out;
      neq_4.right = 1'd0;
    }
    group raise_err<"pos"={42}> {
      err.in = 1'd1;
      err.write_en = 1'd1;
      raise_err[done] = err.done;
    }
    group lower_err<"pos"={43}> {
      err.in = 1'd0;
      err.write_en = 1'd1;
      lower_err[done] = err.done;
    }
    group length_incr_1_5_group<"pos"={44}> {
      length_incr_1_5.left = length.out;
      length_incr_1_5.right = 32'd1;
      length.write_en = 1'd1;
      length.in = length_incr_1_5.out;
      length_incr_1_5_group[done] = length.done;
    }
    group length_decr_1_6_group<"pos"={45}> {
      length_decr_1_6.left = length.out;
      length_decr_1_6.right = 32'd1;
      length.write_en = 1'd1;
      length.in = length_decr_1_6.out;
      length_decr_1_6_group[done] = length.done;
    }
    hot_out_eq_1_7.left = hot.out;
    hot_out_eq_1_7.right = 32'd1;
    hot_out_eq_0_8.left = hot.out;
    hot_out_eq_0_8.right = 32'd0;
    flow_out_eq_1_9.left = flow.out;
    flow_out_eq_1_9.right = 1'd1;
    flow_out_eq_0_10.left = flow.out;
    flow_out_eq_0_10.right = 1'd0;
    comb group eq_11_group {
      eq_11.left = hot.out;
      eq_11.right = 32'd1;
    }
    group reset_hot<"pos"={50}> {
      hot.in = 32'd0;
      hot.write_en = 1'd1;
      reset_hot[done] = hot.done;
    }
    group hot_incr_1_12_group<"pos"={51}> {
      hot_incr_1_12.left = hot.out;
      hot_incr_1_12.right = 32'd1;
      hot.write_en = 1'd1;
      hot.in = hot_incr_1_12.out;
      hot_incr_1_12_group[done] = hot.done;
    }
    group hot_store_to_reg<"pos"={54}> {
      hot.in = og_hot.out;
      hot.write_en = 1'd1;
      hot_store_to_reg[done] = hot.done;
    }
    cmd_eq_1_13.left = cmd;
    cmd_eq_1_13.right = 1'd1;
    cmd_eq_0_14.left = cmd;
    cmd_eq_0_14.right = 1'd0;
  }
  control {
    @pos{58} if cmd_eq_0_14.out {
      @pos{55} if eq_1.out with eq_1_group {
        @pos{55} raise_err;
      } else {
        @pos{55} seq {
          @pos{55} og_hot_store_to_reg;
          @pos{55} raise_err;
          @pos{53} while neq_4.out with neq_4_group {
            @pos{53} seq {
              @pos{53} lower_err;
              @pos{47} if hot_out_eq_0_8.out {
                @pos{46} invoke queue_0[ans=ans, err=err](cmd=cmd, value=value)();
              } else {
                @pos{47} if hot_out_eq_1_7.out {
                  @pos{46} invoke queue_1[ans=ans, err=err](cmd=cmd, value=value)();
                }
              }
              @pos{52} if eq_11.out with eq_11_group {
                @pos{52} reset_hot;
              } else {
                @pos{52} hot_incr_1_12_group;
              }
            }
          }
          @pos{55} length_decr_1_6_group;
          @pos{55} hot_store_to_reg;
        }
      }
    } else {
      @pos{58} if cmd_eq_1_13.out {
        @pos{57} if eq_2.out with eq_2_group {
          @pos{57} raise_err;
        } else {
          @pos{57} seq {
            @pos{57} lower_err;
            @pos{31} invoke flow_infer[flow=flow](value=value)();
            @pos{48} if flow_out_eq_0_10.out {
              @pos{46} invoke queue_0[ans=ans, err=err](cmd=cmd, value=value)();
            } else {
              @pos{48} if flow_out_eq_1_9.out {
                @pos{46} invoke queue_1[ans=ans, err=err](cmd=cmd, value=value)();
              }
            }
            @pos{56} if eq_3.out with eq_3_group {
              @pos{56} length_incr_1_5_group;
            }
          }
        }
      }
    }
  }
}
component pifo_rr2<"pos"={27}>(cmd: 1, value: 32) -> () {
  cells {
    @pos{28} queue_0 = fifo_C();
    @pos{28} queue_1 = fifo_D();
    @pos{29} flow = std_reg(1);
    @pos{30} flow_infer = fi_rr2();
    @pos{32} ref ans = std_reg(32);
    @pos{33} ref err = std_reg(1);
    @pos{34} length = std_reg(32);
    @pos{35} hot = std_reg(32);
    @pos{36} og_hot = std_reg(32);
    @pos{38} eq_1 = std_eq(32);
    @pos{39} eq_2 = std_eq(32);
    @pos{40} eq_3 = std_eq(1);
    @pos{41} neq_4 = std_neq(1);
    @pos{44} length_incr_1_5 = std_add(32);
    @pos{45} length_decr_1_6 = std_sub(32);
    @pos{47} hot_out_eq_1_7 = std_eq(32);
    @pos{47} hot_out_eq_0_8 = std_eq(32);
    @pos{48} flow_out_eq_1_9 = std_eq(1);
    @pos{48} flow_out_eq_0_10 = std_eq(1);
    @pos{49} eq_11 = std_eq(32);
    @pos{51} hot_incr_1_12 = std_add(32);
    @pos{58} cmd_eq_1_13 = std_eq(1);
    @pos{58} cmd_eq_0_14 = std_eq(1);
  }
  wires {
    group og_hot_store_to_reg<"pos"={37}> {
      og_hot.in = hot.out;
      og_hot.write_en = 1'd1;
      og_hot_store_to_reg[done] = og_hot.done;
    }
    comb group eq_1_group {
      eq_1.left = length.out;
      eq_1.right = 32'd0;
    }
    comb group eq_2_group {
      eq_2.left = length.out;
      eq_2.right = 32'd16;
    }
    comb group eq_3_group {
      eq_3.left = err.out;
      eq_3.right = 1'd0;
    }
    comb group neq_4_group {
      neq_4.left = err.out;
      neq_4.right = 1'd0;
    }
    group raise_err<"pos"={42}> {
      err.in = 1'd1;
      err.write_en = 1'd1;
      raise_err[done] = err.done;
    }
    group lower_err<"pos"={43}> {
      err.in = 1'd0;
      err.write_en = 1'd1;
      lower_err[done] = err.done;
    }
    group length_incr_1_5_group<"pos"={44}> {
      length_incr_1_5.left = length.out;
      length_incr_1_5.right = 32'd1;
      length.write_en = 1'd1;
      length.in = length_incr_1_5.out;
      length_incr_1_5_group[done] = length.done;
    }
    group length_decr_1_6_group<"pos"={45}> {
      length_decr_1_6.left = length.out;
      length_decr_1_6.right = 32'd1;
      length.write_en = 1'd1;
      length.in = length_decr_1_6.out;
      length_decr_1_6_group[done] = length.done;
    }
    hot_out_eq_1_7.left = hot.out;
    hot_out_eq_1_7.right = 32'd1;
    hot_out_eq_0_8.left = hot.out;
    hot_out_eq_0_8.right = 32'd0;
    flow_out_eq_1_9.left = flow.out;
    flow_out_eq_1_9.right = 1'd1;
    flow_out_eq_0_10.left = flow.out;
    flow_out_eq_0_10.right = 1'd0;
    comb group eq_11_group {
      eq_11.left = hot.out;
      eq_11.right = 32'd1;
    }
    group reset_hot<"pos"={50}> {
      hot.in = 32'd0;
      hot.write_en = 1'd1;
      reset_hot[done] = hot.done;
    }
    group hot_incr_1_12_group<"pos"={51}> {
      hot_incr_1_12.left = hot.out;
      hot_incr_1_12.right = 32'd1;
      hot.write_en = 1'd1;
      hot.in = hot_incr_1_12.out;
      hot_incr_1_12_group[done] = hot.done;
    }
    cmd_eq_1_13.left = cmd;
    cmd_eq_1_13.right = 1'd1;
    cmd_eq_0_14.left = cmd;
    cmd_eq_0_14.right = 1'd0;
  }
  control {
    @pos{58} if cmd_eq_0_14.out {
      @pos{55} if eq_1.out with eq_1_group {
        @pos{55} raise_err;
      } else {
        @pos{55} seq {
          @pos{55} og_hot_store_to_reg;
          @pos{55} raise_err;
          @pos{53} while neq_4.out with neq_4_group {
            @pos{53} seq {
              @pos{53} lower_err;
              @pos{47} if hot_out_eq_0_8.out {
                @pos{46} invoke queue_0[ans=ans, err=err](cmd=cmd, value=value)();
              } else {
                @pos{47} if hot_out_eq_1_7.out {
                  @pos{46} invoke queue_1[ans=ans, err=err](cmd=cmd, value=value)();
                }
              }
              @pos{52} if eq_11.out with eq_11_group {
                @pos{52} reset_hot;
              } else {
                @pos{52} hot_incr_1_12_group;
              }
            }
          }
          @pos{55} length_decr_1_6_group;

        }
      }
    } else {
      @pos{58} if cmd_eq_1_13.out {
        @pos{57} if eq_2.out with eq_2_group {
          @pos{57} raise_err;
        } else {
          @pos{57} seq {
            @pos{57} lower_err;
            @pos{31} invoke flow_infer[flow=flow](value=value)();
            @pos{48} if flow_out_eq_0_10.out {
              @pos{46} invoke queue_0[ans=ans, err=err](cmd=cmd, value=value)();
            } else {
              @pos{48} if flow_out_eq_1_9.out {
                @pos{46} invoke queue_1[ans=ans, err=err](cmd=cmd, value=value)();
              }
            }
            @pos{56} if eq_3.out with eq_3_group {
              @pos{56} length_incr_1_5_group;
            }
          }
        }
      }
    }
  }
}
component pifo_root<"pos"={27}>(cmd: 1, value: 32) -> () {
  cells {
    @pos{28} queue_0 = pifo_sp();
    @pos{28} queue_1 = pifo_rr2();
    @pos{29} flow = std_reg(1);
    @pos{30} flow_infer = fi_root();
    @pos{32} ref ans = std_reg(32);
    @pos{33} ref err = std_reg(1);
    @pos{34} length = std_reg(32);
    @pos{35} hot = std_reg(32);
    @pos{36} og_hot = std_reg(32);
    @pos{38} eq_1 = std_eq(32);
    @pos{39} eq_2 = std_eq(32);
    @pos{40} eq_3 = std_eq(1);
    @pos{41} neq_4 = std_neq(1);
    @pos{44} length_incr_1_5 = std_add(32);
    @pos{45} length_decr_1_6 = std_sub(32);
    @pos{47} hot_out_eq_1_7 = std_eq(32);
    @pos{47} hot_out_eq_0_8 = std_eq(32);
    @pos{48} flow_out_eq_1_9 = std_eq(1);
    @pos{48} flow_out_eq_0_10 = std_eq(1);
    @pos{49} eq_11 = std_eq(32);
    @pos{51} hot_incr_1_12 = std_add(32);
    @pos{58} cmd_eq_1_13 = std_eq(1);
    @pos{58} cmd_eq_0_14 = std_eq(1);
  }
  wires {
    group og_hot_store_to_reg<"pos"={37}> {
      og_hot.in = hot.out;
      og_hot.write_en = 1'd1;
      og_hot_store_to_reg[done] = og_hot.done;
    }
    comb group eq_1_group {
      eq_1.left = length.out;
      eq_1.right = 32'd0;
    }
    comb group eq_2_group {
      eq_2.left = length.out;
      eq_2.right = 32'd16;
    }
    comb group eq_3_group {
      eq_3.left = err.out;
      eq_3.right = 1'd0;
    }
    comb group neq_4_group {
      neq_4.left = err.out;
      neq_4.right = 1'd0;
    }
    group raise_err<"pos"={42}> {
      err.in = 1'd1;
      err.write_en = 1'd1;
      raise_err[done] = err.done;
    }
    group lower_err<"pos"={43}> {
      err.in = 1'd0;
      err.write_en = 1'd1;
      lower_err[done] = err.done;
    }
    group length_incr_1_5_group<"pos"={44}> {
      length_incr_1_5.left = length.out;
      length_incr_1_5.right = 32'd1;
      length.write_en = 1'd1;
      length.in = length_incr_1_5.out;
      length_incr_1_5_group[done] = length.done;
    }
    group length_decr_1_6_group<"pos"={45}> {
      length_decr_1_6.left = length.out;
      length_decr_1_6.right = 32'd1;
      length.write_en = 1'd1;
      length.in = length_decr_1_6.out;
      length_decr_1_6_group[done] = length.done;
    }
    hot_out_eq_1_7.left = hot.out;
    hot_out_eq_1_7.right = 32'd1;
    hot_out_eq_0_8.left = hot.out;
    hot_out_eq_0_8.right = 32'd0;
    flow_out_eq_1_9.left = flow.out;
    flow_out_eq_1_9.right = 1'd1;
    flow_out_eq_0_10.left = flow.out;
    flow_out_eq_0_10.right = 1'd0;
    comb group eq_11_group {
      eq_11.left = hot.out;
      eq_11.right = 32'd1;
    }
    group reset_hot<"pos"={50}> {
      hot.in = 32'd0;
      hot.write_en = 1'd1;
      reset_hot[done] = hot.done;
    }
    group hot_incr_1_12_group<"pos"={51}> {
      hot_incr_1_12.left = hot.out;
      hot_incr_1_12.right = 32'd1;
      hot.write_en = 1'd1;
      hot.in = hot_incr_1_12.out;
      hot_incr_1_12_group[done] = hot.done;
    }
    cmd_eq_1_13.left = cmd;
    cmd_eq_1_13.right = 1'd1;
    cmd_eq_0_14.left = cmd;
    cmd_eq_0_14.right = 1'd0;
  }
  control {
    @pos{58} if cmd_eq_0_14.out {
      @pos{55} if eq_1.out with eq_1_group {
        @pos{55} raise_err;
      } else {
        @pos{55} seq {
          @pos{55} og_hot_store_to_reg;
          @pos{55} raise_err;
          @pos{53} while neq_4.out with neq_4_group {
            @pos{53} seq {
              @pos{53} lower_err;
              @pos{47} if hot_out_eq_0_8.out {
                @pos{46} invoke queue_0[ans=ans, err=err](cmd=cmd, value=value)();
              } else {
                @pos{47} if hot_out_eq_1_7.out {
                  @pos{46} invoke queue_1[ans=ans, err=err](cmd=cmd, value=value)();
                }
              }
              @pos{52} if eq_11.out with eq_11_group {
                @pos{52} reset_hot;
              } else {
                @pos{52} hot_incr_1_12_group;
              }
            }
          }
          @pos{55} length_decr_1_6_group;

        }
      }
    } else {
      @pos{58} if cmd_eq_1_13.out {
        @pos{57} if eq_2.out with eq_2_group {
          @pos{57} raise_err;
        } else {
          @pos{57} seq {
            @pos{57} lower_err;
            @pos{31} invoke flow_infer[flow=flow](value=value)();
            @pos{48} if flow_out_eq_0_10.out {
              @pos{46} invoke queue_0[ans=ans, err=err](cmd=cmd, value=value)();
            } else {
              @pos{48} if flow_out_eq_1_9.out {
                @pos{46} invoke queue_1[ans=ans, err=err](cmd=cmd, value=value)();
              }
            }
            @pos{56} if eq_3.out with eq_3_group {
              @pos{56} length_incr_1_5_group;
            }
          }
        }
      }
    }
  }
}
component main<"pos"={59}>() -> () {
  cells {
    @pos{79} dataplane = dataplane();
    @pos{80} reg_1 = std_reg(1);
    @pos{81} reg_2 = std_reg(32);
    @pos{82} reg_3 = std_reg(1);
    @external @pos{83} commands = seq_mem_d1(1, 20000, 32);
    @external @pos{84} values = seq_mem_d1(32, 20000, 32);
    @external @pos{85} ans_mem = seq_mem_d1(32, 20000, 32);
    @pos{86} reg_4 = std_reg(32);
    @pos{87} and_5 = std_and(1);
    @pos{88} lt_6 = std_lt(32);
    @pos{89} not_7 = std_not(1);
    @pos{98} reg_4_incr_1_8 = std_add(32);
  }
  wires {
    comb group Compute_keep_looping {
      lt_6.left = reg_4.out;
      lt_6.right = 32'd20000;
      not_7.in = reg_3.out;
      and_5.left = lt_6.out;
      and_5.right = 1'd1;
    }
    group lower_has_ans<"pos"={90}> {
      reg_1.in = 1'd0;
      reg_1.write_en = 1'd1;
      lower_has_ans[done] = reg_1.done;
    }
    group lower_err<"pos"={91}> {
      reg_3.in = 1'd0;
      reg_3.write_en = 1'd1;
      lower_err[done] = reg_3.done;
    }
    group write_ans<"pos"={93}> {
      ans_mem.addr0 = reg_4.out;
      ans_mem.write_en = 1'd1;
      ans_mem.write_data = reg_2.out;
      write_ans[done] = ans_mem.done;
      ans_mem.content_en = 1'd1;
    }
    group write_err<"pos"={94}> {
      ans_mem.addr0 = reg_4.out;
      ans_mem.write_en = 1'd1;
      ans_mem.write_data = 32'd4294967295;
      write_err[done] = ans_mem.done;
      ans_mem.content_en = 1'd1;
    }
    group write_push<"pos"={95}> {
      ans_mem.addr0 = reg_4.out;
      ans_mem.write_en = 1'd1;
      ans_mem.write_data = 32'd4294967294;
      write_push[done] = ans_mem.done;
      ans_mem.content_en = 1'd1;
    }
    group reg_4_incr_1_8_group<"pos"={98}> {
      reg_4_incr_1_8.left = reg_4.out;
      reg_4_incr_1_8.right = 32'd1;
      reg_4.write_en = 1'd1;
      reg_4.in = reg_4_incr_1_8.out;
      reg_4_incr_1_8_group[done] = reg_4.done;
    }
  }
  control {
    @pos{99} while and_5.out with Compute_keep_looping {
      @pos{99} seq {
        @pos{99} lower_has_ans;
        @pos{99} lower_err;
        @pos{92} invoke dataplane[commands=commands, values=values, has_ans=reg_1, component_ans=reg_2, component_err=reg_3]()();
        @pos{97} if reg_1.out {
          @pos{97} write_ans;
        } else {
          @pos{96} if reg_3.out {
            @pos{96} write_err;
          } else {
            @pos{96} write_push;
          }
        }

        @pos{99} reg_4_incr_1_8_group;
      }
    }
  }
}
component dataplane<"pos"={60}>() -> () {
  cells {
    @pos{61} myqueue = pifo_root();
    @pos{62} ref commands = seq_mem_d1(1, 20000, 32);
    @pos{63} ref values = seq_mem_d1(32, 20000, 32);
    @pos{64} ref has_ans = std_reg(1);
    @pos{65} ref component_ans = std_reg(32);
    @pos{66} ref component_err = std_reg(1);
    @pos{67} reg_1 = std_reg(32);
    @pos{68} reg_2 = std_reg(1);
    @pos{69} reg_3 = std_reg(32);
    @pos{70} reg_4 = std_reg(32);
    @pos{74} not_5 = std_not(1);
    @pos{75} eq_6 = std_eq(1);
    @pos{77} reg_1_incr_1_7 = std_add(32);
  }
  wires {
    group write_cmd<"pos"={71}> {
      commands.addr0 = reg_1.out;
      commands.content_en = 1'd1;
      reg_2.write_en = commands.done ? 1'd1;
      reg_2.in = commands.done ? commands.read_data;
      write_cmd[done] = reg_2.done;
    }
    group write_value<"pos"={72}> {
      values.addr0 = reg_1.out;
      values.content_en = 1'd1;
      reg_3.write_en = values.done ? 1'd1;
      reg_3.in = values.done ? values.read_data;
      write_value[done] = reg_3.done;
    }
    comb group not_5_group {
      not_5.in = component_err.out;
    }
    group eq_6_group<"pos"={75}> {
      eq_6.left = reg_2.out;
      eq_6.right = 1'd0;
      has_ans.write_en = 1'd1;
      has_ans.in = eq_6.out;
      eq_6_group[done] = has_ans.done;
    }
    group reg_1_incr_1_7_group<"pos"={77}> {
      reg_1_incr_1_7.left = reg_1.out;
      reg_1_incr_1_7.right = 32'd1;
      reg_1.write_en = 1'd1;
      reg_1.in = reg_1_incr_1_7.out;
      reg_1_incr_1_7_group[done] = reg_1.done;
    }
  }
  control {
    @pos{78} seq {
      @pos{78} seq {
        @pos{78} write_cmd;
        @pos{78} write_value;
      }
      @pos{73} invoke myqueue[ans=component_ans, err=component_err](cmd=reg_2.out, value=reg_3.out)();
      @pos{76} if not_5.out with not_5_group {
        @pos{76} seq {
          @pos{76} eq_6_group;
        }
      }
      @pos{78} reg_1_incr_1_7_group;
    }
  }
}

sourceinfo #{
FILES 
  0: /home/am3327/.local/lib/python3.10/site-packages/queues/fifo.py
  1: /home/am3327/.local/lib/python3.10/site-packages/queues/flow_inference.py
  2: /home/am3327/.local/lib/python3.10/site-packages/queues/strict_or_rr.py
  3: /home/am3327/.local/lib/python3.10/site-packages/queues/queue_call.py
POSITIONS 
  0: 0 20
  1: 0 27
  2: 0 28
  3: 0 29
  4: 0 34
  5: 0 36
  6: 0 37
  7: 0 38
  8: 0 44
  9: 0 49
  10: 0 50
  11: 0 51
  12: 0 43
  13: 0 59
  14: 0 63
  15: 0 64
  16: 0 65
  17: 0 58
  18: 0 71
  19: 1 10
  20: 1 13
  21: 1 17
  22: 1 18
  23: 1 19
  24: 1 33
  25: 1 35
  26: 1 38
  27: 2 48
  28: 2 54
  29: 2 57
  30: 2 58
  31: 2 59
  32: 2 62
  33: 2 64
  34: 2 66
  35: 2 67
  36: 2 68
  37: 2 69
  38: 2 73
  39: 2 74
  40: 2 75
  41: 2 76
  42: 2 78
  43: 2 79
  44: 2 80
  45: 2 81
  46: 2 18
  47: 2 87
  48: 2 98
  49: 2 114
  50: 2 115
  51: 2 116
  52: 2 112
  53: 2 125
  54: 2 142
  55: 2 119
  56: 2 160
  57: 2 150
  58: 2 166
  59: 3 150
  60: 3 39
  61: 3 50
  62: 3 62
  63: 3 63
  64: 3 67
  65: 3 68
  66: 3 69
  67: 3 71
  68: 3 72
  69: 3 73
  70: 3 74
  71: 3 84
  72: 3 85
  73: 3 111
  74: 3 122
  75: 3 126
  76: 3 121
  77: 3 129
  78: 3 89
  79: 3 157
  80: 3 159
  81: 3 160
  82: 3 161
  83: 3 163
  84: 3 164
  85: 3 165
  86: 3 171
  87: 3 172
  88: 3 173
  89: 3 174
  90: 3 192
  91: 3 193
  92: 3 218
  93: 3 233
  94: 3 236
  95: 3 242
  96: 3 234
  97: 3 231
  98: 3 258
  99: 3 187
}#
