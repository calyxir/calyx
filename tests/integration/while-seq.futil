(define/namespace prog
  (import primitives/std.lib)
  (define/component main () ()
    ([new-std i0 (std_iterator 32 0 10 1)]
     [new-std x0 (std_reg 32)]
     [new-std sum (std_reg 32)]
     [new-std add (std_add 32)]
     [-> (@ i0 out) (@ x0 in)]
     [-> (@ i0 out) (@ add left)]
     [-> (@ x0 out) (@ add right)]
     [-> (@ add out) (@ sum in)])
    (while (@ i0 stop) (i0)
           (seq
            (enable sum add x0 i0)
            (enable x0 i0)))))
