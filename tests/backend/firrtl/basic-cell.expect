FIRRTL version 4.0.0
circuit main:
    extmodule std_wire_1:
        input in: UInt<1>
        output out: UInt<1>
        defname = std_wire
        parameter WIDTH = 1

    public module identity:
        input in: UInt<32>
        output out: UInt<32>
        input go: UInt<1>
        input clk: Clock
        input reset: UInt<1>
        output done: UInt<1>
        invalidate out ; default initialization
        connect out, UInt(0)
        invalidate done ; default initialization
        connect done, UInt(0)
        ; COMPONENT START: identity
        connect done, UInt(1)
        connect out, in
        ; COMPONENT END: identity

    public module main:
        input go: UInt<1>
        input clk: Clock
        input reset: UInt<1>
        output done: UInt<1>
        invalidate done ; default initialization
        connect done, UInt(0)
        ; COMPONENT START: main
        inst id of identity
        inst invoke0_go of std_wire_1
        inst invoke0_done of std_wire_1
        when invoke0_done.out:
            connect done, UInt(1)
        connect id.clk, clk
        invalidate id.go ; default initialization
        connect id.go, UInt(0)
        when invoke0_go.out:
            connect id.go, UInt(1)
        connect id.reset, reset
        invalidate id.in ; default initialization
        connect id.in, UInt(0)
        when invoke0_go.out:
            connect id.in, UInt(5)
        connect invoke0_go.in, go
        connect invoke0_done.in, id.done
        ; COMPONENT END: main

