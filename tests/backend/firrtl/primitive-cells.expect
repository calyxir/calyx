FIRRTL version 4.0.0
circuit main:
    extmodule std_add_32:
        input left: UInt<32>
        input right: UInt<32>
        output out: UInt<32>
        defname = std_add
        parameter WIDTH = 32

    extmodule std_wire_1:
        input in: UInt<1>
        output out: UInt<1>
        defname = std_wire
        parameter WIDTH = 1

    public module plus_one:
        input in: UInt<32>
        output out: UInt<32>
        input go: UInt<1>
        input clk: Clock
        input reset: UInt<1>
        output done: UInt<1>
        invalidate out ; default initialization
        connect out, UInt(0)
        invalidate done ; default initialization
        connect done, UInt(0)
        ; COMPONENT START: plus_one
        inst add of std_add_32
        connect done, UInt(1)
        connect out, add.out
        connect add.left, UInt(1)
        connect add.right, in
        ; COMPONENT END: plus_one

    public module main:
        input go: UInt<1>
        input clk: Clock
        input reset: UInt<1>
        output done: UInt<1>
        invalidate done ; default initialization
        connect done, UInt(0)
        ; COMPONENT START: main
        inst po of plus_one
        inst invoke0_go of std_wire_1
        inst invoke0_done of std_wire_1
        when invoke0_done.out:
            connect done, UInt(1)
        connect invoke0_go.in, go
        connect invoke0_done.in, po.done
        connect po.clk, clk
        invalidate po.go ; default initialization
        connect po.go, UInt(0)
        when invoke0_go.out:
            connect po.go, UInt(1)
        connect po.reset, reset
        invalidate po.in ; default initialization
        connect po.in, UInt(0)
        when invoke0_go.out:
            connect po.in, UInt(5)
        ; COMPONENT END: main

