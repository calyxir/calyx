import "primitives/std.lib";
component main(go: 1, clk: 1) -> (done: 1) {
  cells {
    A = prim std_mem_d1(32, 16, 4);
    B = prim std_mem_d1(32, 16, 4);
    state = prim std_reg(32);
  }
  
  wires {
    group wr_A<> {
      A.write_en = 1'd1;
      A.write_data = 32'd4;
      state.in = A.read_data;
      wr_A[done] = A.done;
    }
    group wr_B<> {
      B.write_en = 1'd1;
      B.write_data = 32'd4;
      state.in = B.read_data;
      wr_B[done] = B.done;
    }
  }
  
  control {
    
  }
}