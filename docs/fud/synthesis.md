# Xilinx Toolchain

> Working with vendor EDA toolchains is never a fun experience. Something will
> almost certainly go wrong. If you're at Cornell, you can at least avoid
> installing the tools yourself by using our lab servers, [Gorgonzola][] or [Havarti][].

`fud` can interact with the Xilinx tools ([Vivado][], [Vivado HLS][vhls], and [Vitis][]). There are three main things it can do:

* Synthesize Calyx-generated RTL designs to collect area and resource estimates.
* Compile [Dahlia][] programs via C++ and [Vivado HLS][vhls] for comparison with the Calyx backend.
* Compile Calyx programs for *actual execution* in Xilinx emulation modes or on real FPGA hardware.

You can set `fud` up to use either a local installation of the Xilinx tools or one on a remote server, via SSH.

to synthesize RTL designs, collect area and resource estimates for Calyx-generated designs, 

`fud` uses [Vivado][] to generate area and resource estimates for designs
generated by Calyx.
It also supports compiling Dahlia programs through the HLS-backend using

## Synthesis Only

The simplest way to use the Xilinx tools is to synthesize RTL or HLS designs to collect statistics about them.
This route will not produce actual, runnable executables; see the next section for that.

### Set Up

To set up to **invoke the Xilinx tools over SSH**, first tell `fud` your username and hostname for the server:

    # Vivado
    fud config stages.synth-verilog.ssh_host <hostname>
    fud config stages.synth-verilog.ssh_username <username>

    # Vivado HLS
    fud config stages.vivado-hls.ssh_host <hostname>
    fud config stages.vivado-hls.ssh_username <username>

The server must have `vivado` and `vivado_hls` available on the remote machine's path. (If you need the executable names to be something else, please file an issue.)

To instead **invoke the Xilinx tools locally**, just let `fud` run the `vivado` and `vivado_hls` commands.
You can optionally tell `fud` where these commands exist on your machine:

    fud config stages.synth-verilog.exec <path> # update vivado path
    fud config stages.vivado-hls.exec <path> # update vivado_hls path

[vivado]: https://www.xilinx.com/products/design-tools/vivado.html
[vhls]: https://www.xilinx.com/products/design-tools/vivado/integration/esl-design.html
[gorgonzola]: https://capra.cs.cornell.edu/private/gorgonzola.html
[havarti]: https://capra.cs.cornell.edu/private/havarti.html
[vitis]: https://www.xilinx.com/products/design-tools/vitis/vitis-platform.html
[dahlia]: https://capra.cs.cornell.edu/dahlia/
