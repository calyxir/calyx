import "primitives/core.futil";

component main() -> () {
  cells {
    mem0 = std_mem_d1(32, 8, 3);
    mem1 = std_mem_d1(32, 8, 3);
  }

  wires {
    group write{
      mem0.write_en = 1'd1;
      mem0.addr0 = 3'd4;
      mem0.write_data = 32'd157; 
      write[done] = mem0.done;
    }

    group dont_write{
      mem0.write_en = 1'd0;
      mem0.addr0 = 3'd4;
      mem0.write_data = 32'd9; 
      mem1.write_en = 1'd1; 
      mem1.addr0 = 3'd4;
      mem1.write_data = 32'd23; 
      dont_write[done] = mem1.done; 
    }
  }

  control {
    seq {
      write;
      dont_write;
    }
  }
}