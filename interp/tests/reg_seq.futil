import "primitives/core.futil";

component main() -> () {
    cells {
        const0 = std_const(32, 9);
        const1 = std_const(32, 400);
        reg0 = std_reg(32);
        reg1 = std_reg(32);
    }
    
    wires {
        group wr_reg0 {
            reg0.in = const0.out;
            wr_reg0[done] = reg0.done;
            reg0.write_en = 1'd1;
        }
        group wr_reg1 {
            reg1.in = const1.out;
            wr_reg1[done] = reg1.done;
            reg1.write_en = 1'd1;
        }
    }

    //both registers should have a low [done] at the end 
    //of execution, b/c this is not a single-group program
    control {
        seq {
            wr_reg0;
            wr_reg1;
        }
    }
}