import "primitives/std.lib";

component main() -> () {
  cells {
    const0 = std_const(32, 13);
    const1 = std_const(32, 10);
    and0 = std_and(32);
    reg0 = std_reg(32);

  }

  wires {

    // expect and0.out = 8
    group op {
      reg0.write_en = 1'd1;
      and0.left = const0.out;
      and0.right = const1.out;
      reg0.in = and0.out;
      op[done] = reg0.done;
    }
    
  }

//b/c one group, and reg0 decides
//when that group's execution is done, 
//the ending snapshot should include 
//all values on reg0's ports. That is, 
//[done] = 1
  control {
    seq {
      op;
    }
  }
}