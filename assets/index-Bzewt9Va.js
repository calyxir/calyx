(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const $e=""+new URL("calyx_web_bg-ZqI1--X9.wasm",import.meta.url).href,Le=async(e={},t)=>{let r;if(t.startsWith("data:")){const n=t.replace(/^data:.*?base64,/,"");let i;if(typeof Buffer=="function"&&typeof Buffer.from=="function")i=Buffer.from(n,"base64");else if(typeof atob=="function"){const c=atob(n);i=new Uint8Array(c.length);for(let l=0;l<c.length;l++)i[l]=c.charCodeAt(l)}else throw new Error("Cannot decode base64-encoded data URL");r=await WebAssembly.instantiate(i,e)}else{const n=await fetch(t),i=n.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&i.startsWith("application/wasm"))r=await WebAssembly.instantiateStreaming(n,e);else{const c=await n.arrayBuffer();r=await WebAssembly.instantiate(c,e)}}return r.instance.exports};let F;function je(e){F=e}function ze(e){const t=F.__externref_table_alloc();return F.__wbindgen_export_2.set(t,e),t}function ne(e,t){try{return e.apply(this,t)}catch(r){const n=ze(r);F.__wbindgen_exn_store(n)}}const Ie=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let fe=new Ie("utf-8",{ignoreBOM:!0,fatal:!0});fe.decode();let Z=null;function J(){return(Z===null||Z.byteLength===0)&&(Z=new Uint8Array(F.memory.buffer)),Z}function X(e,t){return e=e>>>0,fe.decode(J().subarray(e,e+t))}let O=0;const Te=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let K=new Te("utf-8");const Ne=typeof K.encodeInto=="function"?function(e,t){return K.encodeInto(e,t)}:function(e,t){const r=K.encode(e);return t.set(r),{read:e.length,written:r.length}};function B(e,t,r){if(r===void 0){const a=K.encode(e),d=t(a.length,1)>>>0;return J().subarray(d,d+a.length).set(a),O=a.length,d}let n=e.length,i=t(n,1)>>>0;const c=J();let l=0;for(;l<n;l++){const a=e.charCodeAt(l);if(a>127)break;c[i+l]=a}if(l!==n){l!==0&&(e=e.slice(l)),i=r(i,n,n=l+e.length*3,1)>>>0;const a=J().subarray(i+l,i+n),d=Ne(e,a);l+=d.written,i=r(i,n,l,1)>>>0}return O=l,i}let M=null;function z(){return(M===null||M.buffer.detached===!0||M.buffer.detached===void 0&&M.buffer!==F.memory.buffer)&&(M=new DataView(F.memory.buffer)),M}function re(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let c="[";i>0&&(c+=re(e[0]));for(let l=1;l<i;l++)c+=", "+re(e[l]);return c+="]",c}const r=/\[object ([^\]]+)\]/.exec(toString.call(e));let n;if(r&&r.length>1)n=r[1];else return toString.call(e);if(n=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:n}function ae(e){return e==null}function Oe(e,t,r){let n,i;try{const c=B(t,F.__wbindgen_malloc,F.__wbindgen_realloc),l=O,a=B(r,F.__wbindgen_malloc,F.__wbindgen_realloc),d=O,h=F.run(e,c,l,a,d);return n=h[0],i=h[1],X(h[0],h[1])}finally{F.__wbindgen_free(n,i,1)}}function Me(e){return e.buffer}function Re(){return ne(function(e,t){return e.call(t)},arguments)}function Be(e){return e.done}function He(e,t){let r,n;try{r=e,n=t,console.error(X(e,t))}finally{F.__wbindgen_free(r,n,1)}}function qe(e,t){return e[t>>>0]}function De(){return ne(function(e,t){return Reflect.get(e,t)},arguments)}function We(e){let t;try{t=e instanceof ArrayBuffer}catch{t=!1}return t}function Ue(e){let t;try{t=e instanceof Uint8Array}catch{t=!1}return t}function Ze(e){return Array.isArray(e)}function Je(){return Symbol.iterator}function Xe(e){return e.length}function Ke(e){return e.length}function Ye(e){return new Uint8Array(e)}function Ge(){return new Error}function Qe(){return ne(function(e){return e.next()},arguments)}function Ve(e){return e.next}function et(e,t,r){e.set(t,r>>>0)}function tt(e,t){const r=t.stack,n=B(r,F.__wbindgen_malloc,F.__wbindgen_realloc),i=O;z().setInt32(e+4*1,i,!0),z().setInt32(e+4*0,n,!0)}function nt(e){return e.value}function rt(e){const t=e;return typeof t=="boolean"?t?1:0:2}function at(e,t){const r=re(t),n=B(r,F.__wbindgen_malloc,F.__wbindgen_realloc),i=O;z().setInt32(e+4*1,i,!0),z().setInt32(e+4*0,n,!0)}function ot(e,t){return new Error(X(e,t))}function it(){const e=F.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}function st(e){return typeof e=="function"}function lt(e){const t=e;return typeof t=="object"&&t!==null}function ut(e,t){return e==t}function ct(){return F.memory}function dt(e,t){const r=t,n=typeof r=="number"?r:void 0;z().setFloat64(e+8*1,ae(n)?0:n,!0),z().setInt32(e+4*0,!ae(n),!0)}function pt(e,t){const r=t,n=typeof r=="string"?r:void 0;var i=ae(n)?0:B(n,F.__wbindgen_malloc,F.__wbindgen_realloc),c=O;z().setInt32(e+4*1,c,!0),z().setInt32(e+4*0,i,!0)}function gt(e,t){throw new Error(X(e,t))}URL=globalThis.URL;const j=await Le({"./calyx_web_bg.js":{__wbg_isArray_7f26a14459f68797:Ze,__wbg_length_1696685c6aba7291:Ke,__wbg_next_6be2c999eb986ac2:Qe,__wbg_done_04195f4d3e017e52:Be,__wbg_value_b5333880fef080c2:nt,__wbindgen_string_get:pt,__wbg_get_b2c0d507448d6d00:qe,__wbg_new_8a6f238a6ece86ea:Ge,__wbg_stack_0ed75d68575b0f3c:tt,__wbg_error_7534b8e9a36f1ab4:He,__wbindgen_is_object:lt,__wbg_next_79cf1f31ef1cbccc:Ve,__wbindgen_is_function:st,__wbg_iterator_4c6714dcbbfd3f09:Je,__wbg_get_fecdb3385f16da17:De,__wbg_call_7b07808271da073d:Re,__wbg_instanceof_ArrayBuffer_48c65b54acde99d5:We,__wbindgen_memory:ct,__wbg_buffer_b0511fd3a0f7d825:Me,__wbg_new_2113e2f7d64bfdb0:Ye,__wbg_set_d46f77a7376b2305:et,__wbg_length_157c8bd57c7d16bf:Xe,__wbg_instanceof_Uint8Array_05546a60fa90ba7f:Ue,__wbindgen_error_new:ot,__wbindgen_jsval_loose_eq:ut,__wbindgen_boolean_get:rt,__wbindgen_number_get:dt,__wbindgen_debug_string:at,__wbindgen_throw:gt,__wbindgen_init_externref_table:it}},$e),ft=j.memory,mt=j.run,ht=j.__wbindgen_exn_store,bt=j.__externref_table_alloc,yt=j.__wbindgen_export_2,vt=j.__wbindgen_free,_t=j.__wbindgen_malloc,wt=j.__wbindgen_realloc,me=j.__wbindgen_start,xt=Object.freeze(Object.defineProperty({__proto__:null,__externref_table_alloc:bt,__wbindgen_exn_store:ht,__wbindgen_export_2:yt,__wbindgen_free:vt,__wbindgen_malloc:_t,__wbindgen_realloc:wt,__wbindgen_start:me,memory:ft,run:mt},Symbol.toStringTag,{value:"Module"}));je(xt),me();const kt="https://raw.githubusercontent.com/calyxir/calyx/",Ft=[{name:"Sequence",file:"tests/correctness/seq.futil",root:"/",passes:["tdcc"]},{name:"Conditional",file:"tests/correctness/if.futil",root:"/",passes:["simplify-with-control","tdcc"]},{name:"Loops",file:"tests/correctness/while.futil",root:"/",passes:["simplify-with-control","tdcc"]},{name:"Invoke (call)",file:"tests/passes/compile-invoke/compile-invoke.futil",root:"/",passes:["compile-invoke"]},{name:"Parallel",file:"tests/correctness/par.futil",root:"/",passes:["tdcc"]},{name:"Externalize",file:"tests/passes/externalize.futil",root:"/",passes:["externalize"]},{name:"Minimize Regs Simple",file:"tests/passes/cell-share/simple-liveness.futil",root:"/",passes:["dead-cell-removal"]},{name:"Minimize Regs (Nested Par)",file:"tests/passes/cell-share/nested-par.futil",root:"/",passes:["dead-cell-removal"]}],H={url_prefix:kt,examples:Ft},At=[{name:"well-formed",title:"Well Formed",description:"well-formed"},{name:"papercut",title:"Papercut",description:"papercut"},{name:"externalize",title:"Externalize Memories",description:"externalize"},{name:"compile-invoke",title:"Compile Invoke",description:"compile-invoke"},{name:"collapse-control",title:"Collapse Control",description:"collapse-control"},{name:"simplify-with-control",title:"Remove combinational groups",description:"tdcc"},{name:"tdcc",title:"Top Down Compile Control",description:"tdcc"},{name:"dead-cell-removal",title:"Dead Cell Removal",description:"dead-cell-removal"},{name:"dead-group-removal",title:"Dead Group Removal",description:"dead-group-removal"},{name:"go-insertion",title:"Go Insertion",description:"go-insertion"},{name:"hole-inliner",title:"Hole Inliner",description:"hole-inliner"},{name:"clk-insertion",title:"Clk Insertion",description:"clk-insertion"}],oe={passes:At},Et="713cf3658bede008ab17f9e1b92d7a1184665e92",ie={version:Et};function I(){}I.prototype={diff:function(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.callback;typeof n=="function"&&(i=n,n={}),this.options=n;var c=this;function l(o){return i?(setTimeout(function(){i(void 0,o)},0),!0):o}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var a=t.length,d=e.length,h=1,y=a+d;n.maxEditLength&&(y=Math.min(y,n.maxEditLength));var b=(r=n.timeout)!==null&&r!==void 0?r:1/0,x=Date.now()+b,E=[{oldPos:-1,lastComponent:void 0}],S=this.extractCommon(E[0],t,e,0);if(E[0].oldPos+1>=d&&S+1>=a)return l([{value:this.join(t),count:t.length}]);var w=-1/0,_=1/0;function k(){for(var o=Math.max(w,-h);o<=Math.min(_,h);o+=2){var u=void 0,p=E[o-1],g=E[o+1];p&&(E[o-1]=void 0);var f=!1;if(g){var v=g.oldPos-o;f=g&&0<=v&&v<a}var m=p&&p.oldPos+1<d;if(!f&&!m){E[o]=void 0;continue}if(!m||f&&p.oldPos+1<g.oldPos?u=c.addToPath(g,!0,void 0,0):u=c.addToPath(p,void 0,!0,1),S=c.extractCommon(u,t,e,o),u.oldPos+1>=d&&S+1>=a)return l(St(c,u.lastComponent,t,e,c.useLongestToken));E[o]=u,u.oldPos+1>=d&&(_=Math.min(_,o-1)),S+1>=a&&(w=Math.max(w,o+1))}h++}if(i)(function o(){setTimeout(function(){if(h>y||Date.now()>x)return i();k()||o()},0)})();else for(;h<=y&&Date.now()<=x;){var s=k();if(s)return s}},addToPath:function(e,t,r,n){var i=e.lastComponent;return i&&i.added===t&&i.removed===r?{oldPos:e.oldPos+n,lastComponent:{count:i.count+1,added:t,removed:r,previousComponent:i.previousComponent}}:{oldPos:e.oldPos+n,lastComponent:{count:1,added:t,removed:r,previousComponent:i}}},extractCommon:function(e,t,r,n){for(var i=t.length,c=r.length,l=e.oldPos,a=l-n,d=0;a+1<i&&l+1<c&&this.equals(t[a+1],r[l+1]);)a++,l++,d++;return d&&(e.lastComponent={count:d,previousComponent:e.lastComponent}),e.oldPos=l,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function St(e,t,r,n,i){for(var c=[],l;t;)c.push(t),l=t.previousComponent,delete t.previousComponent,t=l;c.reverse();for(var a=0,d=c.length,h=0,y=0;a<d;a++){var b=c[a];if(b.removed){if(b.value=e.join(n.slice(y,y+b.count)),y+=b.count,a&&c[a-1].added){var x=c[a-1];c[a-1]=c[a],c[a]=x}}else{if(!b.added&&i){var E=r.slice(h,h+b.count);E=E.map(function(w,_){var k=n[y+_];return k.length>w.length?k:w}),b.value=e.join(E)}else b.value=e.join(r.slice(h,h+b.count));h+=b.count,b.added||(y+=b.count)}}var S=c[d-1];return d>1&&typeof S.value=="string"&&(S.added||S.removed)&&e.equals("",S.value)&&(c[d-2].value+=S.value,c.pop()),c}var he=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,be=/\S/,ye=new I;ye.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!be.test(e)&&!be.test(t)},ye.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&he.test(t[r])&&he.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var ve=new I;ve.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var i=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};var Ct=new I;Ct.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Pt=new I;Pt.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Y(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Y=function(t){return typeof t}:Y=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(e)}var $t=Object.prototype.toString,q=new I;q.useLongestToken=!0,q.tokenize=ve.tokenize,q.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(c,l){return typeof l>"u"?r:l}:n;return typeof e=="string"?e:JSON.stringify(se(e,null,null,i),i,"  ")},q.equals=function(e,t){return I.prototype.equals.call(q,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function se(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var c;for(c=0;c<t.length;c+=1)if(t[c]===e)return r[c];var l;if($t.call(e)==="[object Array]"){for(t.push(e),l=new Array(e.length),r.push(l),c=0;c<e.length;c+=1)l[c]=se(e[c],t,r,n,i);return t.pop(),r.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),Y(e)==="object"&&e!==null){t.push(e),l={},r.push(l);var a=[],d;for(d in e)e.hasOwnProperty(d)&&a.push(d);for(a.sort(),c=0;c<a.length;c+=1)d=a[c],l[d]=se(e[d],t,r,n,d);t.pop(),r.pop()}else l=e;return l}var le=new I;le.tokenize=function(e){return e.slice()},le.join=le.removeEmpty=function(e){return e};var _e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var we={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},r=function(n){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,c=0,l={},a={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function s(o){return o instanceof d?new d(o.type,s(o.content),o.alias):Array.isArray(o)?o.map(s):o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(s){return Object.prototype.toString.call(s).slice(8,-1)},objId:function(s){return s.__id||Object.defineProperty(s,"__id",{value:++c}),s.__id},clone:function s(o,u){u=u||{};var p,g;switch(a.util.type(o)){case"Object":if(g=a.util.objId(o),u[g])return u[g];p={},u[g]=p;for(var f in o)o.hasOwnProperty(f)&&(p[f]=s(o[f],u));return p;case"Array":return g=a.util.objId(o),u[g]?u[g]:(p=[],u[g]=p,o.forEach(function(v,m){p[m]=s(v,u)}),p);default:return o}},getLanguage:function(s){for(;s;){var o=i.exec(s.className);if(o)return o[1].toLowerCase();s=s.parentElement}return"none"},setLanguage:function(s,o){s.className=s.className.replace(RegExp(i,"gi"),""),s.classList.add("language-"+o)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(p){var s=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(p.stack)||[])[1];if(s){var o=document.getElementsByTagName("script");for(var u in o)if(o[u].src==s)return o[u]}return null}},isActive:function(s,o,u){for(var p="no-"+o;s;){var g=s.classList;if(g.contains(o))return!0;if(g.contains(p))return!1;s=s.parentElement}return!!u}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(s,o){var u=a.util.clone(a.languages[s]);for(var p in o)u[p]=o[p];return u},insertBefore:function(s,o,u,p){p=p||a.languages;var g=p[s],f={};for(var v in g)if(g.hasOwnProperty(v)){if(v==o)for(var m in u)u.hasOwnProperty(m)&&(f[m]=u[m]);u.hasOwnProperty(v)||(f[v]=g[v])}var A=p[s];return p[s]=f,a.languages.DFS(a.languages,function(C,T){T===A&&C!=s&&(this[C]=f)}),f},DFS:function s(o,u,p,g){g=g||{};var f=a.util.objId;for(var v in o)if(o.hasOwnProperty(v)){u.call(o,v,o[v],p||v);var m=o[v],A=a.util.type(m);A==="Object"&&!g[f(m)]?(g[f(m)]=!0,s(m,u,null,g)):A==="Array"&&!g[f(m)]&&(g[f(m)]=!0,s(m,u,v,g))}}},plugins:{},highlightAll:function(s,o){a.highlightAllUnder(document,s,o)},highlightAllUnder:function(s,o,u){var p={callback:u,container:s,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",p),p.elements=Array.prototype.slice.apply(p.container.querySelectorAll(p.selector)),a.hooks.run("before-all-elements-highlight",p);for(var g=0,f;f=p.elements[g++];)a.highlightElement(f,o===!0,p.callback)},highlightElement:function(s,o,u){var p=a.util.getLanguage(s),g=a.languages[p];a.util.setLanguage(s,p);var f=s.parentElement;f&&f.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(f,p);var v=s.textContent,m={element:s,language:p,grammar:g,code:v};function A(T){m.highlightedCode=T,a.hooks.run("before-insert",m),m.element.innerHTML=m.highlightedCode,a.hooks.run("after-highlight",m),a.hooks.run("complete",m),u&&u.call(m.element)}if(a.hooks.run("before-sanity-check",m),f=m.element.parentElement,f&&f.nodeName.toLowerCase()==="pre"&&!f.hasAttribute("tabindex")&&f.setAttribute("tabindex","0"),!m.code){a.hooks.run("complete",m),u&&u.call(m.element);return}if(a.hooks.run("before-highlight",m),!m.grammar){A(a.util.encode(m.code));return}if(o&&n.Worker){var C=new Worker(a.filename);C.onmessage=function(T){A(T.data)},C.postMessage(JSON.stringify({language:m.language,code:m.code,immediateClose:!0}))}else A(a.highlight(m.code,m.grammar,m.language))},highlight:function(s,o,u){var p={code:s,grammar:o,language:u};if(a.hooks.run("before-tokenize",p),!p.grammar)throw new Error('The language "'+p.language+'" has no grammar.');return p.tokens=a.tokenize(p.code,p.grammar),a.hooks.run("after-tokenize",p),d.stringify(a.util.encode(p.tokens),p.language)},tokenize:function(s,o){var u=o.rest;if(u){for(var p in u)o[p]=u[p];delete o.rest}var g=new b;return x(g,g.head,s),y(s,g,o,g.head,0),S(g)},hooks:{all:{},add:function(s,o){var u=a.hooks.all;u[s]=u[s]||[],u[s].push(o)},run:function(s,o){var u=a.hooks.all[s];if(!(!u||!u.length))for(var p=0,g;g=u[p++];)g(o)}},Token:d};n.Prism=a;function d(s,o,u,p){this.type=s,this.content=o,this.alias=u,this.length=(p||"").length|0}d.stringify=function s(o,u){if(typeof o=="string")return o;if(Array.isArray(o)){var p="";return o.forEach(function(A){p+=s(A,u)}),p}var g={type:o.type,content:s(o.content,u),tag:"span",classes:["token",o.type],attributes:{},language:u},f=o.alias;f&&(Array.isArray(f)?Array.prototype.push.apply(g.classes,f):g.classes.push(f)),a.hooks.run("wrap",g);var v="";for(var m in g.attributes)v+=" "+m+'="'+(g.attributes[m]||"").replace(/"/g,"&quot;")+'"';return"<"+g.tag+' class="'+g.classes.join(" ")+'"'+v+">"+g.content+"</"+g.tag+">"};function h(s,o,u,p){s.lastIndex=o;var g=s.exec(u);if(g&&p&&g[1]){var f=g[1].length;g.index+=f,g[0]=g[0].slice(f)}return g}function y(s,o,u,p,g,f){for(var v in u)if(!(!u.hasOwnProperty(v)||!u[v])){var m=u[v];m=Array.isArray(m)?m:[m];for(var A=0;A<m.length;++A){if(f&&f.cause==v+","+A)return;var C=m[A],T=C.inside,Ee=!!C.lookbehind,Se=!!C.greedy,Bt=C.alias;if(Se&&!C.pattern.global){var Ht=C.pattern.toString().match(/[imsuy]*$/)[0];C.pattern=RegExp(C.pattern.source,Ht+"g")}for(var Ce=C.pattern||C,P=p.next,L=g;P!==o.tail&&!(f&&L>=f.reach);L+=P.value.length,P=P.next){var R=P.value;if(o.length>s.length)return;if(!(R instanceof d)){var Q=1,$;if(Se){if($=h(Ce,L,s,Ee),!$||$.index>=s.length)break;var V=$.index,qt=$.index+$[0].length,N=L;for(N+=P.value.length;V>=N;)P=P.next,N+=P.value.length;if(N-=P.value.length,L=N,P.value instanceof d)continue;for(var U=P;U!==o.tail&&(N<qt||typeof U.value=="string");U=U.next)Q++,N+=U.value.length;Q--,R=s.slice(L,N),$.index-=L}else if($=h(Ce,0,R,Ee),!$)continue;var V=$.index,ee=$[0],de=R.slice(0,V),Pe=R.slice(V+ee.length),pe=L+R.length;f&&pe>f.reach&&(f.reach=pe);var te=P.prev;de&&(te=x(o,te,de),L+=de.length),E(o,te,Q);var Dt=new d(v,T?a.tokenize(ee,T):ee,Bt,ee);if(P=x(o,te,Dt),Pe&&x(o,P,Pe),Q>1){var ge={cause:v+","+A,reach:pe};y(s,o,u,P.prev,L,ge),f&&ge.reach>f.reach&&(f.reach=ge.reach)}}}}}}function b(){var s={value:null,prev:null,next:null},o={value:null,prev:s,next:null};s.next=o,this.head=s,this.tail=o,this.length=0}function x(s,o,u){var p=o.next,g={value:u,prev:o,next:p};return o.next=g,p.prev=g,s.length++,g}function E(s,o,u){for(var p=o.next,g=0;g<u&&p!==s.tail;g++)p=p.next;o.next=p,p.prev=o,s.length-=g}function S(s){for(var o=[],u=s.head.next;u!==s.tail;)o.push(u.value),u=u.next;return o}if(!n.document)return n.addEventListener&&(a.disableWorkerMessageHandler||n.addEventListener("message",function(s){var o=JSON.parse(s.data),u=o.language,p=o.code,g=o.immediateClose;n.postMessage(a.highlight(p,a.languages[u],u)),g&&n.close()},!1)),a;var w=a.util.currentScript();w&&(a.filename=w.src,w.hasAttribute("data-manual")&&(a.manual=!0));function _(){a.manual||a.highlightAll()}if(!a.manual){var k=document.readyState;k==="loading"||k==="interactive"&&w&&w.defer?document.addEventListener("DOMContentLoaded",_):window.requestAnimationFrame?window.requestAnimationFrame(_):window.setTimeout(_,16)}return a}(t);e.exports&&(e.exports=r),typeof _e<"u"&&(_e.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(n,i){var c={};c["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[i]},c.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:c}};l["language-"+i]={pattern:/[\s\S]+/,inside:r.languages[i]};var a={};a[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:l},r.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(n,i){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:r.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(n){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var c=n.languages.markup;c&&(c.tag.addInlined("style","css"),c.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(typeof r>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading\u2026",i=function(w,_){return"\u2716 Error "+w+" while fetching file: "+_},c="\u2716 Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",d="loading",h="loaded",y="failed",b="pre[data-src]:not(["+a+'="'+h+'"]):not(['+a+'="'+d+'"])';function x(w,_,k){var s=new XMLHttpRequest;s.open("GET",w,!0),s.onreadystatechange=function(){s.readyState==4&&(s.status<400&&s.responseText?_(s.responseText):s.status>=400?k(i(s.status,s.statusText)):k(c))},s.send(null)}function E(w){var _=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(w||"");if(_){var k=Number(_[1]),s=_[2],o=_[3];return s?o?[k,Number(o)]:[k,void 0]:[k,k]}}r.hooks.add("before-highlightall",function(w){w.selector+=", "+b}),r.hooks.add("before-sanity-check",function(w){var _=w.element;if(_.matches(b)){w.code="",_.setAttribute(a,d);var k=_.appendChild(document.createElement("CODE"));k.textContent=n;var s=_.getAttribute("data-src"),o=w.language;if(o==="none"){var u=(/\.(\w+)$/.exec(s)||[,"none"])[1];o=l[u]||u}r.util.setLanguage(k,o),r.util.setLanguage(_,o);var p=r.plugins.autoloader;p&&p.loadLanguages(o),x(s,function(g){_.setAttribute(a,h);var f=E(_.getAttribute("data-range"));if(f){var v=g.split(/\r\n?|\n/g),m=f[0],A=f[1]==null?v.length:f[1];m<0&&(m+=v.length),m=Math.max(0,Math.min(m-1,v.length)),A<0&&(A+=v.length),A=Math.max(0,Math.min(A,v.length)),g=v.slice(m,A).join(`
`),_.hasAttribute("data-start")||_.setAttribute("data-start",String(m+1))}k.textContent=g,r.highlightElement(k)},function(g){_.setAttribute(a,y),k.textContent=g})}}),r.plugins.fileHighlight={highlight:function(w){for(var _=(w||document).querySelectorAll(b),k=0,s;s=_[k++];)r.highlightElement(s)}};var S=!1;r.fileHighlight=function(){S||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),S=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(we);var jt=we.exports;const D=Lt(jt);D.languages.futil={"diff-addition":{pattern:/^\+.*$/m},"diff-deletion":{pattern:/^-.*$/m},comment:D.languages.clike.comment,string:{pattern:/(["])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},namespace:{pattern:/\b(?:extern|component|primitive)\b/,lookbehind:!0},function:{pattern:/\b(?:cells|wires|control|group|comb)\b/,lookbehind:!0},keyword:{pattern:/\b(?:|seq|par|if|while|with|invoke)\b/,lookbehind:!0},number:[{pattern:/\b[0-9]+'b[0-1]+\b/},{pattern:/\b[0-9]+'d[0-9]+\b/},{pattern:/\b[0-9]+'x[0-9A-Fa-f]+\b/},{pattern:/\b[0-9]+'o[0-7]+\b/},{pattern:/\b(?:[0-9]+)(?!')\b/}]},function(){typeof Prism>"u"||typeof document>"u"||!document.createRange||(Prism.plugins.KeepMarkup=!0,Prism.hooks.add("before-highlight",function(e){if(!e.element.children.length||!Prism.util.isActive(e.element,"keep-markup",!0))return;var t=Prism.util.isActive(e.element,"drop-tokens",!1);function r(a){return!(t&&a.nodeName.toLowerCase()==="span"&&a.classList.contains("token"))}var n=0,i=[];function c(a){if(!r(a)){l(a);return}var d={element:a,posOpen:n};i.push(d),l(a),d.posClose=n}function l(a){for(var d=0,h=a.childNodes.length;d<h;d++){var y=a.childNodes[d];y.nodeType===1?c(y):y.nodeType===3&&(n+=y.data.length)}}l(e.element),i.length&&(e.keepMarkup=i)}),Prism.hooks.add("after-highlight",function(e){if(e.keepMarkup&&e.keepMarkup.length){var t=function(r,n){for(var i=0,c=r.childNodes.length;i<c;i++){var l=r.childNodes[i];if(l.nodeType===1){if(!t(l,n))return!1}else l.nodeType===3&&(!n.nodeStart&&n.pos+l.data.length>n.node.posOpen&&(n.nodeStart=l,n.nodeStartPos=n.node.posOpen-n.pos),n.nodeStart&&n.pos+l.data.length>=n.node.posClose&&(n.nodeEnd=l,n.nodeEndPos=n.node.posClose-n.pos),n.pos+=l.data.length);if(n.nodeStart&&n.nodeEnd){var a=document.createRange();return a.setStart(n.nodeStart,n.nodeStartPos),a.setEnd(n.nodeEnd,n.nodeEndPos),n.node.element.innerHTML="",n.node.element.appendChild(a.extractContents()),a.insertNode(n.node.element),a.detach(),!1}}return!0};e.keepMarkup.forEach(function(r){t(e.element,{node:r,pos:0})}),e.highlightedCode=e.element.innerHTML}}))}(),function(){if(typeof Prism>"u"||typeof document>"u")return;var e="line-numbers",t=/\n(?!$)/g,r=Prism.plugins.lineNumbers={getLine:function(l,a){if(!(l.tagName!=="PRE"||!l.classList.contains(e))){var d=l.querySelector(".line-numbers-rows");if(d){var h=parseInt(l.getAttribute("data-start"),10)||1,y=h+(d.children.length-1);a<h&&(a=h),a>y&&(a=y);var b=a-h;return d.children[b]}}},resize:function(l){n([l])},assumeViewportIndependence:!0};function n(l){if(l=l.filter(function(d){var h=i(d),y=h["white-space"];return y==="pre-wrap"||y==="pre-line"}),l.length!=0){var a=l.map(function(d){var h=d.querySelector("code"),y=d.querySelector(".line-numbers-rows");if(!(!h||!y)){var b=d.querySelector(".line-numbers-sizer"),x=h.textContent.split(t);b||(b=document.createElement("span"),b.className="line-numbers-sizer",h.appendChild(b)),b.innerHTML="0",b.style.display="block";var E=b.getBoundingClientRect().height;return b.innerHTML="",{element:d,lines:x,lineHeights:[],oneLinerHeight:E,sizer:b}}}).filter(Boolean);a.forEach(function(d){var h=d.sizer,y=d.lines,b=d.lineHeights,x=d.oneLinerHeight;b[y.length-1]=void 0,y.forEach(function(E,S){if(E&&E.length>1){var w=h.appendChild(document.createElement("span"));w.style.display="block",w.textContent=E}else b[S]=x})}),a.forEach(function(d){for(var h=d.sizer,y=d.lineHeights,b=0,x=0;x<y.length;x++)y[x]===void 0&&(y[x]=h.children[b++].getBoundingClientRect().height)}),a.forEach(function(d){var h=d.sizer,y=d.element.querySelector(".line-numbers-rows");h.style.display="none",h.innerHTML="",d.lineHeights.forEach(function(b,x){y.children[x].style.height=b+"px"})})}}function i(l){return l?window.getComputedStyle?getComputedStyle(l):l.currentStyle||null:null}var c=void 0;window.addEventListener("resize",function(){r.assumeViewportIndependence&&c===window.innerWidth||(c=window.innerWidth,n(Array.prototype.slice.call(document.querySelectorAll("pre."+e))))}),Prism.hooks.add("complete",function(l){if(l.code){var a=l.element,d=a.parentNode;if(!(!d||!/pre/i.test(d.nodeName))&&!a.querySelector(".line-numbers-rows")&&Prism.util.isActive(a,e)){a.classList.remove(e),d.classList.add(e);var h=l.code.match(t),y=h?h.length+1:1,b,x=new Array(y+1).join("<span></span>");b=document.createElement("span"),b.setAttribute("aria-hidden","true"),b.className="line-numbers-rows",b.innerHTML=x,d.hasAttribute("data-start")&&(d.style.counterReset="linenumber "+(parseInt(d.getAttribute("data-start"),10)-1)),l.element.appendChild(b),n([d]),Prism.hooks.run("line-numbers",l)}}}),Prism.hooks.add("line-numbers",function(l){l.plugins=l.plugins||{},l.plugins.lineNumbers=!0})}();var ue={},W={};H.url_prefix=H.url_prefix+ie.version;function xe(e,t){e.active=t,t?e.button.classList.replace("off","on"):e.button.classList.replace("on","off")}function zt(e){let t=document.createElement("button");return t.classList.add("toggle"),t.classList.add("off"),t.innerHTML=e.title,t.onclick=function(){xe(e,!e.active)},t}const It=document.getElementById("passes");for(let e of oe.passes){let t=zt(e);e.button=t,It.appendChild(t)}function Tt(){return oe.passes.filter(e=>e.active).map(e=>e.name)}function Nt(e){if("passes"in e)for(let t of oe.passes)xe(t,e.passes.includes(t.name))}document.getElementById("compile").onclick=function(){Ot()};function Ot(){let e=Tt(),t=W.libraries.map(l=>l.code).join(`
`);var r=Oe(e,t,W.code);const n=document.getElementById("diffEditor"),i=n.querySelector("#input"),c=n.querySelector("#output");c.innerHTML=r,D.highlightElement(i),D.highlightElement(c)}async function Mt(e,t){if(e in ue)return await ue[e];{let r=`${H.url_prefix}${t}${e}`,n=await(await fetch(r)).text();if(/import/g.test(n)){let i=e.split("/").slice(0,-1).join("/"),c=Array.from(n.matchAll(/import "(.*)";/g)).map(d=>d[1]),l=await ke(c,`${t}/${i}/`),a=/import "(.*)";/g;n=n.replaceAll(a,"");for(let d of l)n+=d.code}return ue[e]=n,n}}async function ke(e,t){let r=e.map(async function(n){let i=await Mt(n,t);return{name:n,code:i}});return await Promise.all(r)}const Fe=document.getElementById("input");Fe.oninput=function(){W.code=Fe.innerText};const G=document.getElementById("examples-select");for(let e of H.examples){let t=document.createElement("option");t.text=e.name,t.value=JSON.stringify(e),G.add(t)}async function Rt(e,t){let r=`${H.url_prefix}${t}${e}`,n=await(await fetch(r)).text(),i=/import "(.*)";/g,c=Array.from(n.matchAll(i)).map(a=>a[1]),l=await ke(c,t);return n=n.replaceAll(i,""),{code:n.trim(),libraries:l}}G.onchange=function(){const e=document.getElementById("input"),t=document.getElementById("output");e.innerHTML="loading...",t.innerHTML="Compile `compile` to generate output.";let r=JSON.parse(G.value);Rt(r.file,r.root).then(n=>W=n).then(()=>{e.innerHTML=W.code;const n=document.getElementById("diffEditor").querySelector("#input");D.highlightElement(n)}).then(()=>Nt(r))},G.onchange();const Ae=document.getElementById("calyx-version"),ce=document.createElement("a");ce.appendChild(document.createTextNode(ie.version.slice(0,8))),ce.href="https://github.com/calyxir/calyx/tree/"+ie.version,Ae.appendChild(document.createTextNode("Built with Calyx version ")),Ae.appendChild(ce)})();
